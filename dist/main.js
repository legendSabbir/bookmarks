!function(){var t={448:function(t){t.exports=function(){"use strict";var t={d:function(o,e){for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},o:function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}},o={};function e(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}function n(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(t){if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,o):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,o){o instanceof Node||(o=i.text("".concat(o))),o instanceof Text&&"clone"in o&&(o=o.clone()),t.append(o)}function i(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof o&&(o={innerHTML:o}),function(t){var o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t)return t(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);if(t instanceof Node)o=t;else{if("string"!=typeof t)throw new Error("Invalid tag, ",r(t));o=document.createElement(t)}return Object.keys(e).forEach((function(t){var n=e[t];if(void 0!==n)switch(t){case"child":a(o,n);break;case"children":if(!Array.isArray(n))throw new Error("children must be an array of Nodes");n.flat().forEach((function(t){a(o,t)}));break;case"attr":Object.keys(n).forEach((function(t){var e=n[t];void 0!==e&&o.setAttribute(t,e)}));break;case"style":case"dataset":Object.keys(n).forEach((function(e){var r=n[e];void 0!==r&&(o[t][e]=r)}));break;case"ref":n.instanceOfRef&&(n.el=o);break;default:o[t]=n}})),o}(t,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[])}return t.d(o,{default:function(){return i}}),window&&!window.tag&&(window.tag=i),Object.defineProperties(i,{get:{value:function(t){return document.querySelector(t)}},getAll:{value:function(t){return n(document.querySelectorAll(t))}},parse:{value:function(t){var o=document.createElement("div");return o.innerHTML=t,1===o.childElementCount?o.firstElementChild:n(o.children)}},text:{value:function(t){return document.createTextNode(t)}},use:{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=t,e=!1,n=document.createTextNode(t),r=[n];return Object.defineProperty(n,"value",{set:function(t){o=t,r.forEach((function(o){o.textContent=t}))},get:function(){return o}}),Object.defineProperty(n,"clone",{value:function(){if(!e)return e=!0,n;var t=n.cloneNode();return r.push(t),t}}),n}}}),o.default}()}},o={};function e(n){var r=o[n];if(void 0!==r)return r.exports;var a=o[n]={exports:{}};return t[n].call(a.exports,a,a.exports,e),a.exports}e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,{a:o}),o},e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},function(){"use strict";var t=e(448),o=e.n(t),n=JSON.parse('{"id":"acode.plugin.bookmark"}');const r=acode.require("prompt"),a=acode.require("confirm"),i=acode.require("EditorFile"),{editor:c}=editorManager;window.acode&&(acode.setPluginInit(n.id,(function(){c.commands.addCommand({name:"showBookmark",description:"Show Bookmark Panel",bindKey:{win:"Ctrl-b"},exec:g}),document.head.append(l);const t=JSON.parse(localStorage.getItem("bookmarks"))||[],o=t.length;if(o>0)for(let e=0;e<o;e++){const o=m(t[e]);u.insertAdjacentHTML("beforeend",o)}c.textInput.getElement().addEventListener("keydown",(t=>{if(t.ctrlKey&&+t.key.search(/[1-9]/)>-1){const o=u.querySelectorAll("li");o.length>0&&f(o[+t.key-1].dataset)}}))})),acode.setPluginUnmount(n.id,(function(){l.remove(),d.remove(),s.remove(),c.commands.removeCommand("showBookmark"),localStorage.removeItem("bookmarks")})));const l=o()("style",{id:"bookmarks-styles",children:['.bookmark-container{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background-color:var(--primary-color);color:var(--primary-text-color);border-radius:12px;padding:16px;width:90%;max-width:280px;z-index:110;border:1px solid var(--border-color);box-shadow:0px 0px 8px rgba(0,0,0,.4) 0px 0px 16px rgba(0,0,0,.2)}.bookmark-container button{background:inherit;color:inherit;font:inherit;border:none;outline:none}.bookmark-container button:active{transform:scale(0.95)}.bookmark-container-top{display:flex;justify-content:space-between;align-items:center}.bookmark-container-top>div{display:flex;justify-content:space-between;align-items:center;gap:1rem}.bookmark-container-top .close-btn{color:#b84c4c}.bookmark-container-top .add-btn{height:30px;width:30px;line-height:30px;font-size:1.5rem;border-radius:6px;background:var(--button-active-color);color:var(--primary-color)}.bookmark-container-top .clear-all-btn{border-radius:6px;height:30px;line-height:30px;padding-inline:8px;font-size:.85rem;font-weight:600;color:var(--primary-color);background:linear-gradient(to right, hsl(45, 100%, 72%), hsl(35, 100%, 68%))}.bookmark-container .bookmarks-list{margin-block:20px 10px;max-height:460px;overflow:auto;border-radius:12px;display:grid;gap:10px}.bookmark-container .bookmarks-list .bookmark-item{padding:10px;border-radius:8px;display:flex;justify-content:space-between;gap:1rem;background-color:var(--secondary-color)}.bookmark-container .bookmarks-list .bookmark-item.active{position:relative;overflow:hidden}.bookmark-container .bookmarks-list .bookmark-item.active:after{content:"";position:absolute;top:50%;left:0;background-color:rgba(255,255,255,.6);height:250px;width:250px;border-radius:50%;transform:translate(-50%, -50%) scale(0);animation:bookmark-ripple 490ms linear}@keyframes bookmark-ripple{0%{transform:translate(-50%, -50%) scale(0)}100%{transform:translate(-50%, -50%) scale(3);opacity:0}}.bookmark-container .bookmarks-list .bookmark-item .meta-info{flex:1;word-break:break-all}.bookmark-container .bookmarks-list .bookmark-item .meta-info .title{color:var(--primary-text-color);font-size:1rem;margin-bottom:8px}.bookmark-container .bookmarks-list .bookmark-item .meta-info .line-info{color:rgba(214,214,214,.7);font-size:.7rem;margin-bottom:4px}.bookmark-container .bookmarks-list .bookmark-item .meta-info .line-info span{font-size:.85rem;font-weight:800;color:var(--error-text-color);font-family:"Fira Code","Roboto Mono","Monospace";letter-spacing:-0.5px}.bookmark-container .bookmarks-list .bookmark-item .meta-info .path{font-size:.7rem;color:var(--secondary-text-color, hsl(0, 0%, 84%))}.bookmark-container .bookmarks-list .bookmark-item .meta-info .path span{color:#00fa9a;font-size:.75rem;font-weight:700;font-family:"Fira Code","Roboto Mono","Monospace";letter-spacing:-0.5px}.bookmark-container .bookmarks-list .bookmark-item .action-container button{height:30px;width:30px;border-radius:6px;background:var(--primary-color);position:relative;overflow:hidden;display:block}.bookmark-container .bookmarks-list .bookmark-item .action-container button:after{--url: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxcmVtIiBoZWlnaHQ9IjFyZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIj48cGF0aCBkPSJNNyA3SDZhMiAyIDAgMCAwLTIgMnY5YTIgMiAwIDAgMCAyIDJoOWEyIDIgMCAwIDAgMi0ydi0xIi8+PHBhdGggZD0iTTIwLjM4NSA2LjU4NWEyLjEgMi4xIDAgMCAwLTIuOTctMi45N0w5IDEydjNoM2w4LjM4NS04LjQxNXpNMTYgNWwzIDMiLz48L2c+PC9zdmc+);content:"";position:absolute;inset:0;border-radius:inherit;-webkit-mask:var(--url) center/16px no-repeat;mask:var(--url) center/16px no-repeat;background-color:var(--button-active-color)}.bookmark-container .bookmarks-list .bookmark-item .action-container button:last-child{margin-top:6px}.bookmark-container .bookmarks-list .bookmark-item .action-container button:last-child:after{--url: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik03IDNoMmExIDEgMCAwIDAtMiAwWk02IDNhMiAyIDAgMSAxIDQgMGg0YS41LjUgMCAwIDEgMCAxaC0uNTY0bC0xLjIwNSA4LjgzOEEyLjUgMi41IDAgMCAxIDkuNzU0IDE1SDYuMjQ2YTIuNSAyLjUgMCAwIDEtMi40NzctMi4xNjJMMi41NjQgNEgyYS41LjUgMCAwIDEgMC0xaDRabTEgMy41YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAxIDB2LTVaTTkuNSA2YS41LjUgMCAwIDAtLjUuNXY1YS41LjUgMCAwIDAgMSAwdi01YS41LjUgMCAwIDAtLjUtLjVaIi8+PC9zdmc+)}.bookmark-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;height:100dvh;background-color:rgba(0,0,0,.4);-webkit-backdrop-filter:blur(0.5px);backdrop-filter:blur(0.5px);z-index:109}'],attr:{}}),s=o()("section",{className:"bookmark-container"}),d=o()("div",{className:"bookmark-overlay"});s.innerHTML='\n  <div class="bookmark-container-top">\n    <div>\n      <button class="add-btn" data-action="add">+</button>\n      <button class="clear-all-btn" data-action="clear-all">Clear All</button>\n    </div>\n    <button class="close-btn" data-action="close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="-2 -2 24 24"><path fill="currentColor" d="m11.414 10l2.829-2.828a1 1 0 1 0-1.415-1.415L10 8.586L7.172 5.757a1 1 0 0 0-1.415 1.415L8.586 10l-2.829 2.828a1 1 0 0 0 1.415 1.415L10 11.414l2.828 2.829a1 1 0 0 0 1.415-1.415L11.414 10zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10s-4.477 10-10 10z"/></svg></button>\n  </div>\n  <ul class="bookmarks-list"></ul>\n';const u=s.querySelector(".bookmarks-list");function m(t){let{uri:o,row:e,column:n,filename:r,title:a,path:i}=t;return'\n    <li class="bookmark-item" data-action="goto-mark" \n      data-uri="'.concat(o,'"\n      data-path="').concat(i,'"\n      data-title="').concat(a,'"\n      data-filename="').concat(r,'"\n      data-row="').concat(e,'"\n      data-column="').concat(n,'"\n    >\n      <div class="meta-info">\n        <h3 class="title">').concat(a,'</h3>\n        <p class="line-info">Line: <span>').concat(+e+1,'</span></p>\n        <p class="path">').concat(i,"<span>").concat(r,'</span></p>\n      </div>\n      \n      <div class="action-container">\n        <button class="edit-btn" data-action="edit"></button>\n        <button class="delete-btn" data-action="delete"></button>\n      </div>\n    </li>\n  ')}async function b(){const t=function(){var t;let o=null===(t=editorManager.activeFile)||void 0===t?void 0:t.location;return o?(o.search(/com\.termux/)>-1?o=o.split("::").pop():o.search(/file:\/\/\//)>-1&&(o=o.split("///").pop()),o):(window.toast("Unsaved file",3e3),!1)}();if(!t)return!1;const o=await async function(){return await r("Enter a Bookmark Title","","text",{required:!0,placeholder:"e.g. Bookmark1"})}();if(!o)return!1;const{row:e,column:n}=c.getCursorPosition(),{filename:a,uri:i}=editorManager.activeFile;return m({path:t,row:e,column:n,filename:a,uri:i,title:o})}function f(t){let{row:o,column:e,filename:n,uri:r}=t,a=editorManager.getFile(r,"uri");if(a?a.makeActive():a=new i(n,{uri:r}),a.loaded)c.gotoLine(+o+1,+e,!0),c.focus();else{function l(){a.render(),c.gotoLine(+o+1,+e,!0),setTimeout((()=>c.focus()),200),a.off("loadend",l)}a.on("loadend",l)}}function k(){const t=[],o=u.querySelectorAll("li"),e=o.length;if(e>0)for(let n=0;n<e;n++){const{row:e,column:r,uri:a,filename:i,path:c,title:l}=o[n].dataset;t.push({row:e,column:r,uri:a,filename:i,path:c,title:l})}localStorage.setItem("bookmarks",JSON.stringify(t))}s.addEventListener("click",(t=>{const o=t.target.closest("[data-action]");if(o)switch(o.dataset.action){case"close":return void g();case"goto-mark":return g(),void f(o.dataset);case"add":return void async function(){const t=await b();t&&(u.insertAdjacentHTML("beforeend",t),u.scrollTop=u.scrollHeight,setTimeout((()=>u.lastElementChild.classList.add("active")),300),setTimeout((()=>u.lastElementChild.classList.remove("active")),800),k())}();case"clear-all":return void async function(){await a("Clear All Bookmarks","Are you sure?")&&(u.innerHTML="",k())}();case"edit":return void async function(t){const o=await b();o&&(t.insertAdjacentHTML("beforebegin",o),t.remove(),k())}(o.parentElement.parentElement);case"delete":return void async function(t){await a("Delete Bookmark","Are you sure?")&&(t.remove(),k())}(o.parentElement.parentElement)}})),d.addEventListener("click",g);let p=!1;function g(){p?(s.remove(),d.remove(),c.focus(),p=!1):(document.body.append(s,d),c.blur(),setTimeout((()=>c.blur()),200),p=!0)}}()}();